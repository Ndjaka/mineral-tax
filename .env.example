# MineralTax - Variables d'environnement pour Infomaniak
# Copiez ce fichier en .env et remplissez les valeurs

# ===========================================
# BASE DE DONNEES POSTGRESQL (OBLIGATOIRE)
# ===========================================
# Format: postgres://utilisateur:motdepasse@serveur:port/base
DATABASE_URL=postgres://votre_utilisateur:votre_mot_de_passe@votre_serveur_pg.infomaniak.com:5432/mineraltax

# ===========================================
# SESSION (OBLIGATOIRE)
# ===========================================
# Cle secrete pour signer les cookies de session
# Generez une chaine aleatoire de 32+ caracteres
# Exemple: openssl rand -hex 32
SESSION_SECRET=remplacez_par_une_chaine_aleatoire_de_32_caracteres_minimum

# ===========================================
# ENVIRONNEMENT (OBLIGATOIRE)
# ===========================================
NODE_ENV=production

# URL de base de l'application (pour les redirections Stripe)
BASE_URL=https://mineraltax.ch

# ===========================================
# STRIPE (OBLIGATOIRE pour les paiements)
# ===========================================
# Cle secrete Stripe (commence par sk_live_ ou sk_test_)
STRIPE_SECRET_KEY=sk_live_votre_cle_stripe

# Cle publique Stripe (commence par pk_live_ ou pk_test_)
STRIPE_PUBLIC_KEY=pk_live_votre_cle_publique_stripe

# Secret pour verifier les webhooks Stripe
# Configurez le webhook sur https://dashboard.stripe.com/webhooks
# Endpoint: https://mineraltax.ch/api/stripe/webhook
# Evenements: checkout.session.completed
STRIPE_WEBHOOK_SECRET=whsec_votre_secret_webhook

# ===========================================
# EMAIL RESEND (OPTIONNEL - pour les emails)
# ===========================================
# Cle API Resend pour les emails transactionnels
# Creez un compte sur https://resend.com
# Verifiez le domaine mineraltax.ch dans Resend
RESEND_API_KEY=re_votre_cle_resend

# ===========================================
# NOTES IMPORTANTES
# ===========================================
# 1. NE JAMAIS commiter ce fichier sur Git
# 2. La variable PORT est fournie automatiquement par Infomaniak
# 3. Transferez ce fichier via SFTP/SSH uniquement
# 4. Pour generer SESSION_SECRET: openssl rand -hex 32
# 5. Activez Twint dans le dashboard Stripe: Parametres > Moyens de paiement
